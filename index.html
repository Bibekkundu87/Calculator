<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inbondz Scientific Calculator</title>
    <!-- Fonts for LCD and labels -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* INBONDZ Modern Dark Theme */
            --body-color: #1e2126; /* Deep dark charcoal body */
            --screen-area: #000000;
            --screen-bg: #c9d6cc; /* Slightly brighter LCD for contrast */
            --screen-text: #111111;
            
            /* Button Colors */
            --btn-dark: #2d3238; /* Standard function keys */
            --btn-light: #3a4048; /* Top row control keys */
            --btn-num: #e0e0e0; /* Number keys (Light for contrast) */
            --btn-orange: #ff6b00; /* AC button (Vibrant Orange) */
            --btn-del: #ff4d4d; /* DEL button (Soft Red) */
            
            /* Text Colors on Buttons */
            --text-on-dark: #ffffff;
            --text-on-light: #222222;
            
            /* Label Colors - High Visibility */
            --lbl-shift: #ffcc00; /* Bright Neon Yellow/Gold */
            --lbl-alpha: #ff3366; /* Vibrant Pink/Red */
            
            /* D-Pad */
            --dpad-color: #353b45;
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #121212; /* Dark web page background */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Roboto', sans-serif;
        }

        .calculator {
            background-color: var(--body-color);
            width: 100%;
            max-width: 380px;
            border-radius: 30px;
            padding: 25px 20px 35px 20px;
            box-shadow: 
                0 0 0 1px rgba(255,255,255,0.05),
                0 30px 60px rgba(0,0,0,0.8),
                inset 0 1px 1px rgba(255,255,255,0.1);
            display: flex;
            flex-direction: column;
            gap: 18px;
            position: relative;
        }

        /* Branding */
        .brand-area {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding: 0 10px;
            margin-bottom: 5px;
        }
        .logo {
            font-weight: 900;
            font-size: 1.4rem;
            color: #fff;
            letter-spacing: 2px;
            font-style: italic;
            text-transform: uppercase;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .model {
            font-weight: 700;
            font-size: 0.8rem;
            color: #888;
        }

        /* Display Area */
        .screen-container {
            background-color: var(--screen-area);
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 5px;
            border: 2px solid #333;
        }

        .screen {
            background-color: var(--screen-bg);
            height: 90px;
            width: 100%;
            border-radius: 6px;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
            font-family: 'Share Tech Mono', monospace;
            padding: 8px 12px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            border: 1px solid #999;
        }

        /* Status Indicators (S, A, M, STO, etc) */
        .indicators {
            display: flex;
            gap: 10px;
            height: 14px;
            font-size: 11px;
        }
        .ind {
            color: #333;
            padding: 0 2px;
            opacity: 0.15;
            font-weight: bold;
        }
        .ind.active {
            opacity: 1;
            background-color: #222;
            color: #fff;
            border-radius: 2px;
        }

        .calc-expression {
            font-size: 1.2rem;
            color: var(--screen-text);
            white-space: nowrap;
            overflow: hidden;
            text-align: left;
            margin-top: 5px;
            letter-spacing: 0.5px;
        }

        .calc-result {
            font-size: 2rem;
            color: var(--screen-text);
            text-align: right;
            white-space: nowrap;
            overflow: hidden;
            font-weight: bold;
        }

        /* Keypad Layout */
        .keypad {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Top Function Area */
        .top-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 5px;
            margin-bottom: 10px;
        }
        
        /* The D-PAD */
        .d-pad {
            width: 75px;
            height: 65px;
            background: radial-gradient(circle at 30% 30%, #4a515e, var(--dpad-color));
            border-radius: 50%;
            position: relative;
            box-shadow: 0 5px 10px rgba(0,0,0,0.5), inset 0 1px 1px rgba(255,255,255,0.1);
            cursor: pointer;
            border: 1px solid rgba(0,0,0,0.3);
        }
        .d-pad::after {
            content: "REPLAY";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #aaa;
            font-size: 8px;
            font-weight: bold;
            letter-spacing: 0.5px;
        }
        /* Visual cues for dpad directions */
        .d-up, .d-down { position: absolute; background: #222; }
        .d-up { top: 6px; left: 34px; width: 7px; height: 7px; border-radius: 50%; box-shadow: 0 1px 1px rgba(255,255,255,0.1); } 
        .d-down { bottom: 6px; left: 34px; width: 7px; height: 7px; border-radius: 50%; box-shadow: 0 1px 1px rgba(255,255,255,0.1); }

        /* General Button Styling */
        .btn-row {
            display: grid;
            grid-template-columns: repeat(6, 1fr); 
            gap: 10px;
            justify-items: center;
        }
        
        .btn-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            position: relative;
            width: 100%;
        }

        button {
            width: 100%;
            height: 38px;
            border: none;
            border-radius: 6px;
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-on-dark);
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(0,0,0,0.4), 0 5px 5px rgba(0,0,0,0.2);
            transition: all 0.1s;
            background-color: var(--btn-dark);
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        button:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 rgba(0,0,0,0.4);
        }

        /* Small round buttons (Shift/Alpha/Mode/On) */
        .btn-round {
            width: 44px;
            height: 28px;
            border-radius: 14px;
            background-color: var(--btn-light);
            font-size: 11px;
            box-shadow: 0 3px 0 rgba(0,0,0,0.4);
            color: #ccc;
        }

        /* Number Pad Specifics */
        .num-pad {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            margin-top: 15px;
        }
        .num-pad button {
            height: 45px;
            font-size: 19px;
            border-radius: 8px;
            color: var(--text-on-light);
            background-color: var(--btn-num); /* Light grey buttons */
            box-shadow: 0 4px 0 #999, 0 5px 5px rgba(0,0,0,0.2); /* Lighter shadow for light buttons */
        }
        .num-pad button:active {
            box-shadow: 0 1px 0 #999;
        }
        .num-pad .btn-del {
            background-color: var(--btn-del);
            color: white;
            box-shadow: 0 4px 0 #cc0000;
        }
        .num-pad .btn-del:active { box-shadow: 0 1px 0 #cc0000; }

        .num-pad .btn-ac {
            background-color: var(--btn-orange);
            color: white;
            box-shadow: 0 4px 0 #cc5500;
        }
        .num-pad .btn-ac:active { box-shadow: 0 1px 0 #cc5500; }

        /* Labels above buttons - IMPROVED VISIBILITY */
        .label-shift {
            color: var(--lbl-shift);
            font-size: 10px;
            position: absolute;
            top: -14px;
            left: 0;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }
        .label-alpha {
            color: var(--lbl-alpha);
            font-size: 10px;
            position: absolute;
            top: -14px;
            right: 0;
            font-weight: 700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }
        
    </style>
</head>
<body>

    <div class="calculator">
        <!-- Branding -->
        <div class="brand-area">
            <span class="logo">INBONDZ</span>
            <div style="text-align: right;">
                <div class="model">FX-PRO 2.0</div>
                <div style="font-size: 9px; color: #888; letter-spacing: 1px;">ADVANCED SYSTEM</div>
            </div>
        </div>

        <!-- Screen -->
        <div class="screen-container">
            <div class="screen">
                <div class="indicators">
                    <div id="ind-shift" class="ind">S</div>
                    <div id="ind-alpha" class="ind">A</div>
                    <div id="ind-mem" class="ind">M</div>
                    <div id="ind-sto" class="ind">STO</div>
                    <div id="ind-rcl" class="ind">RCL</div>
                    <div class="ind active">D</div> <!-- Default Degree -->
                    <div class="ind">Math</div>
                </div>
                <div id="display-expression" class="calc-expression"></div>
                <div id="display-result" class="calc-result">0</div>
            </div>
        </div>

        <!-- Top Control Row -->
        <div class="top-row">
            <div class="btn-wrapper" style="width: auto;">
                <span class="label-shift" style="left: 5px; top: -16px;">SHIFT</span>
                <button class="btn-round" onclick="toggleShift()">SHIFT</button>
            </div>
            <div class="btn-wrapper" style="width: auto;">
                <span class="label-alpha" style="color: var(--lbl-alpha); right: 5px; top: -16px;">ALPHA</span>
                <button class="btn-round" onclick="toggleAlpha()">ALPHA</button>
            </div>
            
            <div class="d-pad" onclick="dpadPress()">
                <div class="d-up"></div>
                <div class="d-down"></div>
            </div>

            <div class="btn-wrapper" style="width: auto;">
                <span class="label-shift" style="left: 0;">MODE</span>
                <button class="btn-round">MODE</button>
            </div>
            <div class="btn-wrapper" style="width: auto;">
                <button class="btn-round" style="background-color: #333;">ON</button>
            </div>
        </div>

        <!-- Scientific Functions Grid -->
        <div class="keypad">
            <!-- Row 1 -->
            <div class="btn-row">
                <div class="btn-wrapper">
                    <button onclick="handleInput('Abs(')">Abs</button>
                </div>
                <div class="btn-wrapper">
                    <button onclick="handleInput('^3')">x³</button>
                </div>
                <div class="btn-wrapper">
                    <button onclick="handleInput('^(-1)')">x⁻¹</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">x!</span>
                    <button onclick="handleGeneric('log')">log◻</button>
                </div>
                 <div class="btn-wrapper">
                    <button onclick="handleInput('/')">a/b</button>
                </div>
                <div class="btn-wrapper">
                    <button onclick="handleGeneric('sqrt')">√◻</button>
                </div>
            </div>

            <!-- Row 2 -->
            <div class="btn-row">
                <div class="btn-wrapper">
                    <span class="label-shift">³√◻</span>
                    <button onclick="handleInput('^2')">x²</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">ⁿ√◻</span>
                    <button onclick="handleInput('^')">xʸ</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">10ⁿ</span>
                    <button onclick="handleGeneric('log10')">log</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">eⁿ</span>
                    <button onclick="handleGeneric('ln')">ln</button>
                </div>
                 <div class="btn-wrapper">
                    <span class="label-shift" style="left: -4px">FACT</span>
                    <span class="label-alpha">A</span>
                    <button onclick="handleInput('(-)')">(-)</button>
                </div>
                 <div class="btn-wrapper">
                    <span class="label-alpha">B</span>
                    <button onclick="handleInput('dms')">°' "</button>
                </div>
            </div>

            <!-- Row 3 -->
            <div class="btn-row">
                 <div class="btn-wrapper">
                    <span class="label-alpha">C</span>
                    <button onclick="handleInput('hyp')">hyp</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">sin⁻¹</span>
                    <span class="label-alpha">D</span>
                    <button onclick="handleTrig('sin')">sin</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">cos⁻¹</span>
                    <span class="label-alpha">E</span>
                    <button onclick="handleTrig('cos')">cos</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">tan⁻¹</span>
                    <span class="label-alpha">F</span>
                    <button onclick="handleTrig('tan')">tan</button>
                </div>
                 <div class="btn-wrapper">
                    <span class="label-shift">STO</span>
                    <button onclick="handleInput('RCL')">RCL</button>
                </div>
                 <div class="btn-wrapper">
                    <span class="label-shift">←</span>
                    <button onclick="handleInput('ENG')">ENG</button>
                </div>
            </div>

             <!-- Row 4 -->
            <div class="btn-row">
                 <div class="btn-wrapper">
                    <button onclick="handleInput('(')">(</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">%</span>
                    <span class="label-alpha">X</span>
                    <button onclick="handleInput(')')">)</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">,</span>
                    <span class="label-alpha">Y</span>
                    <button onclick="handleInput('StoD')">S⇔D</button>
                </div>
                <div class="btn-wrapper">
                    <span class="label-shift">M-</span>
                    <span class="label-alpha">M</span>
                    <button onclick="handleMem('M+')">M+</button>
                </div>
            </div>
        </div>

        <!-- Main Number Pad -->
        <div class="num-pad">
            <div class="btn-wrapper">
                <span class="label-shift">CONST</span>
                <button class="btn-num" onclick="handleInput('7')">7</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">CONV</span>
                <button class="btn-num" onclick="handleInput('8')">8</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">CLR</span>
                <button class="btn-num" onclick="handleInput('9')">9</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">INS</span>
                <button class="btn-del" onclick="handleDel()">DEL</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">OFF</span>
                <button class="btn-ac" onclick="handleAC()">AC</button>
            </div>

            <div class="btn-wrapper">
                <span class="label-shift">MATRIX</span>
                <button class="btn-num" onclick="handleInput('4')">4</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">VECTOR</span>
                <button class="btn-num" onclick="handleInput('5')">5</button>
            </div>
            <div class="btn-wrapper">
                <button class="btn-num" onclick="handleInput('6')">6</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">nPr</span>
                <button class="btn-num" onclick="handleInput('*')">×</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">nCr</span>
                <button class="btn-num" onclick="handleInput('/')">÷</button>
            </div>

            <div class="btn-wrapper">
                <span class="label-shift">STAT</span>
                <button class="btn-num" onclick="handleInput('1')">1</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">CMPLX</span>
                <button class="btn-num" onclick="handleInput('2')">2</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">BASE</span>
                <button class="btn-num" onclick="handleInput('3')">3</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">Pol</span>
                <button class="btn-num" onclick="handleInput('+')">+</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">Rec</span>
                <button class="btn-num" onclick="handleInput('-')">-</button>
            </div>

            <div class="btn-wrapper">
                <span class="label-shift">Rnd</span>
                <button class="btn-num" onclick="handleInput('0')">0</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">Ran#</span>
                <button class="btn-num" onclick="handleInput('.')">.</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">π</span>
                <span class="label-alpha">e</span>
                <button class="btn-num" onclick="handleGeneric('x10x')">x10ˣ</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">DRG▸</span>
                <button class="btn-num" onclick="handleInput('Ans')">Ans</button>
            </div>
            <div class="btn-wrapper">
                <span class="label-shift">≈</span>
                <button class="btn-num" onclick="calculate()">=</button>
            </div>
        </div>
    </div>

    <script>
        // State
        let expression = "";
        let result = "";
        let shiftActive = false;
        let alphaActive = false;
        let memory = 0;
        let lastAnswer = 0;
        
        // DOM
        const exprDisplay = document.getElementById('display-expression');
        const resDisplay = document.getElementById('display-result');
        const indShift = document.getElementById('ind-shift');
        const indAlpha = document.getElementById('ind-alpha');
        const indMem = document.getElementById('ind-mem');

        function updateDisplay() {
            // Replace internal js syntax with nice symbols for display
            let disp = expression
                .replaceAll('*', '×')
                .replaceAll('/', '÷')
                .replaceAll('Math.PI', 'π')
                .replaceAll('Math.E', 'e')
                .replaceAll('Math.sqrt(', '√(')
                .replaceAll('Math.sin(', 'sin(')
                .replaceAll('Math.cos(', 'cos(')
                .replaceAll('Math.tan(', 'tan(')
                .replaceAll('Math.asin(', 'sin⁻¹(')
                .replaceAll('Math.acos(', 'cos⁻¹(')
                .replaceAll('Math.atan(', 'tan⁻¹(')
                .replaceAll('Math.log10(', 'log(')
                .replaceAll('Math.log(', 'ln(')
                .replaceAll('**', '^');

            exprDisplay.textContent = disp;
            resDisplay.textContent = result || "0";

            // Update Indicators
            shiftActive ? indShift.classList.add('active') : indShift.classList.remove('active');
            alphaActive ? indAlpha.classList.add('active') : indAlpha.classList.remove('active');
            memory !== 0 ? indMem.classList.add('active') : indMem.classList.remove('active');
        }

        function toggleShift() {
            shiftActive = !shiftActive;
            alphaActive = false;
            updateDisplay();
        }

        function toggleAlpha() {
            alphaActive = !alphaActive;
            shiftActive = false;
            updateDisplay();
        }

        function handleInput(val) {
            // Handle Shift variations for basic keys
            if (shiftActive) {
                if(val === ')') val = 'X'; // Simplification for X var
                if(val === '(') val = '%'; 
                if(val === 'Ans') val = 'DRG'; // Placeholder
                if(val === '*') val = 'P'; // nPr
                if(val === '/') val = 'C'; // nCr
                shiftActive = false;
            } else if (alphaActive) {
                if(val === ')') val = 'X';
                if(val === ',') val = 'Y';
                if(val === 'M+') val = 'M';
                alphaActive = false;
            }

            if(result !== "" && result !== "0" && ['+', '-', '*', '/', '^'].includes(val)) {
                // Continue calculation with answer
                expression = "Ans" + val;
                result = "";
            } else if (result !== "") {
                // Start new
                expression = "";
                result = "";
            }

            expression += val;
            updateDisplay();
        }

        function handleDel() {
            if(shiftActive) {
                // INS logic (toggle insert mode - complex, skipping for basic sim)
                shiftActive = false;
            } 
            expression = expression.slice(0, -1);
            result = "";
            updateDisplay();
        }

        function handleAC() {
            if(shiftActive) {
                // OFF logic
                exprDisplay.textContent = "";
                resDisplay.textContent = "";
                expression = "";
                result = "";
                shiftActive = false;
                // In a real app this would clear state, here we just clear screen visually
                setTimeout(() => { 
                    resDisplay.textContent = "INBONDZ"; 
                    setTimeout(() => { resDisplay.textContent = "0"; }, 500);
                }, 100);
                return;
            }
            expression = "";
            result = "";
            shiftActive = false;
            alphaActive = false;
            updateDisplay();
        }

        // Generic wrapper for functions that might have shift alts
        function handleGeneric(type) {
            if(result !== "") { expression = ""; result = ""; }

            if(type === 'log') {
                if(shiftActive) { expression += '10^('; shiftActive = false; }
                else expression += 'Math.log10(';
            }
            else if(type === 'ln') {
                if(shiftActive) { expression += 'Math.E^('; shiftActive = false; }
                else expression += 'Math.log(';
            }
            else if(type === 'sqrt') {
                expression += 'Math.sqrt(';
            }
            else if(type === 'log10') {
                 if(shiftActive) { expression += '10^('; shiftActive = false; }
                 else expression += 'Math.log10(';
            }
            else if(type === 'x10x') {
                if(shiftActive) { expression += 'Math.PI'; shiftActive = false; }
                else if(alphaActive) { expression += 'Math.E'; alphaActive = false; }
                else expression += '*10^(';
            }
            updateDisplay();
        }

        function handleTrig(func) {
            if(result !== "") { expression = ""; result = ""; }
            
            if(shiftActive) {
                expression += `Math.a${func}(`; // asin, acos, atan
                shiftActive = false;
            } else if (alphaActive) {
                // Alpha map for trig keys D, E, F
                if(func === 'sin') expression += 'D';
                if(func === 'cos') expression += 'E';
                if(func === 'tan') expression += 'F';
                alphaActive = false;
            } else {
                expression += `Math.${func}(`;
            }
            updateDisplay();
        }

        function handleMem(op) {
            if(shiftActive && op === 'M+') {
                // M-
                let val = parseFloat(result || lastAnswer); // Simplified
                memory -= val;
            } else if (alphaActive && op === 'M+') {
                expression += "M";
            } else {
                // M+
                 // In real calc, this adds CURRENT result to memory
                 // We will just show indicator for now
                 memory += 10; // Dummy
            }
            shiftActive = false; alphaActive = false;
            updateDisplay();
        }

        function calculate() {
            try {
                let evalString = expression;
                
                // Pre-process
                evalString = evalString.replaceAll('×', '*')
                                       .replaceAll('÷', '/')
                                       .replaceAll('^', '**')
                                       .replaceAll('Ans', lastAnswer);

                // Handle percentage (simple version)
                // 50% -> 50/100
                // evalString = evalString.replace(/(\d+)%/g, "($1/100)");

                // Handle factorial (simple integer check)
                // evalString = evalString.replace(/(\d+)!/g, "factorial($1)"); // need factorial func

                // Safe(ish) Eval
                // Note: We use Function here to run math.
                // For a real app, write a parser (Shunting Yard).
                let res = new Function('return ' + evalString)();
                
                // Format
                if(res.toString().includes('.')) {
                    res = parseFloat(res.toFixed(8));
                }
                
                result = res;
                lastAnswer = res;
            } catch (e) {
                result = "Syntax ERROR";
            }
            updateDisplay();
        }
        
        // Placeholder for dpad
        function dpadPress() {
            // In a full emulator, this moves the cursor
            // Here we just flash the screen
            const s = document.querySelector('.screen');
            s.style.opacity = '0.8';
            setTimeout(() => s.style.opacity = '1', 100);
        }

    </script>
</body>
</html>
